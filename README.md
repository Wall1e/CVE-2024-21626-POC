# CVE-2024-21626-POC

# 使用说明
仅供教育/研究使用，任何与教育/研究无关的行为所产生的风险自行负责

# 使用
## 存在验证
```bash
bash verify.sh
```
## 逃逸验证
```bash
# verify.sh可以找出当前机器环境下对应的fd具体值，如果fd不为9，需要修改Dockerfile中的WORKDIR为
# 对应的值或在docker run中使用-w 指定
docker build . -t cve-2024-21626
docker run -it --rm cve-2024-21626 bash /poc.sh
# 另起一个terminal
/bin/bash.copy
```



# 前置条件
同时满足以下条件：
```
1. 内核支持openat2(kernel version >= 5.6)
2. 可以创建容器并指定执行命令
3. 可以指定容器使用的镜像
```

# 漏洞原理
TODO


# 参考
https://github.com/opencontainers/runc/security/advisories/GHSA-xr7r-f8xq-vfvv

https://github.com/opencontainers/runc/commit/2a4ed3e75b9e80d93d1836a9c4c1ebfa2b78870e